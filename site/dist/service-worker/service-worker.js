import"../chunk-5FTHTWEJ.js";self.addEventListener("install",e=>e.waitUntil(self.skipWaiting()));self.addEventListener("activate",e=>e.waitUntil(self.clients.claim()));self.addEventListener("fetch",e=>e.respondWith(s(e)));self.addEventListener("message",e=>e.waitUntil(i(e)));async function s(e){let t=e.request;if(t.method=="GET"){let a=new URL(t.url);if(a.hostname==location.hostname&&a.pathname=="/login")return await fetch("/callback")}return fetch(t)}async function i(e){e.data.command=="metadata-fetch"&&(await(await caches.open("Metadata")).put(`${location.origin}/Metadata`,await fetch("http://127.0.0.1:5555/metadata")),e.source?.postMessage({command:"metadata-fetched"}))}
