<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="shortcut icon" type="image/webp" href="icons/128.webp">

    <meta property="og:image" content="https://web-paragon.web.app/icons/512.webp">
    <meta property="og:image:alt" content="Paragon is the next generation of Student Portal Alternatives at SBHS">
    <meta property="og:site_name" content="Paragon">
    <meta property="og:type" content="object">
    <meta property="og:title" content="Paragon">
    <meta property="og:url" content="https://web-paragon.web.app/">
    <meta property="og:description" content="Paragon is the next generation of Student Portal Alternatives at SBHS, with offline functionality, blazingly fast load times and student ID barcode replication.">
    
    <title>Paragon</title>
    
    <base href="/">

    <link href="css/app.css" rel="stylesheet" />
    <link href="css/navbar.css" rel="stylesheet" />
    <link href="css/news.css" rel="stylesheet" />

    <link href="manifest.json" rel="manifest" />

    <script type="module" src="elements/main-elements.js"></script>
    <script type="module" src="elements/announcement-elements.js"></script>
</head>

<body class="laptop-screen">
    <script src="main.js"></script>

    <nav-bar></nav-bar>

    <main>
        <div id="container">
            <loading-element style="margin: auto; width: 80vmin;" id="loading"></loading-element>
        </div>
    </main>

    <script>
        async function run() {
            var newsResponse = await fetch("https://paragon-news.profsmart.repl.co/news");

            document.getElementById("loading").remove();

            var newsData = JSON.parse(await newsResponse.text());

            var container = document.getElementById("container");

            for (let title in newsData) {
                var item = document.createElement("announcement-item");
                item.setAttribute("title", title);
                item.setAttribute("content", newsData[title].html);

                container.appendChild(item);
            }
        }

        run();
    </script>
</body>
</html>